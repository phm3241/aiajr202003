<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<style>
div.card {
	width: 23%;
	float: left;
}
div




.
</style>
</head>
<body>
	<h1>회원리스트</h1>
	<hr>
	<h1>회원가입</h1>
	<form id="regForm" onsubmit="return false;">
		ID<input type="text" name="uid" id="uid"><br> 
		PW<input type="password" name="upw" id="upw"><br> 
		NAME<input type="text" name="uname" id="uname"><br> 
		PHOTO<input type="file" name="uphoto" id="uphoto"><br>
		<input type="submit" value="회원가입" onclick="regSubmit();">

	</form>
	<hr>

	<div id="memberList"></div>


	<script>
		${document}.ready(function(){
			
			memberlist();
			
		});
		
		
		function regSubmit(){
			
			$.ajax({
				url: 'http://localhost:8080/mm/members',
				type: 'post',
				data: {uid: ${'#uid'}.val, upw: ${'#upw'}.val, uname: ${'#uname'}.val, uphoto: ${'#uphoto'}.val}
				success: function(data){
				
			}
				
			})
		};
		
		
		function memberlist(){
		
			$.ajax({
				url: 'http://localhost:8080/mm/members',
				type: 'get',
				success: function(data){
					// arlet(JSON.stringfy(data));
					
					// #('#memberList').html(JSON.stringify(date));
					
					var html='';
					for(var i=0; i<data.length; i++){
						html += '<div class="card">';
						html += 	'<ul>';
						html += 		'<li>idx : '+data[i].idx+'</li>';
						html += 		'<li>uid : '+data[i].uid+'</li>';
						html += 		'<li>uName : 'data[i].uname+'</li>';
						html += 		'<li>uPhoto : 'data[i].uphotox+'</li>';
						html += 		'<li><input type="button" value="수정"><input type="button" value="삭제"></li>';
						html += 	'</ul>';
						html += '</div>';
					}
				}
			})
		
		}
	</script>
</body>
</html>